{% extends "base.html" %}

{% block title %}Setup 2FA{% endblock %}

{% block content %}
<div class="auth-form">
    <h2>Setup Two-Factor Authentication</h2>
    <p>Scan this QR code with Google Authenticator:</p>
    
    <div class="qr-container">
        <img src="data:image/png;base64,{{ qr_code }}" alt="2FA QR Code">
    </div>
    
    <div class="form-group">
        <p>Or enter this secret key manually:</p>
        <input type="text" value="{{ secret }}" readonly class="secret-key" title="secret-key">
    </div>
    
    <form method="POST" class="verify-form">
        <div class="form-group">
            <label for="otp">Enter 6-digit code from Google Authenticator:</label>
            <input type="text" id="otp" name="otp" required 
                   pattern="\d{6}" title="6-digit code" maxlength="6" inputmode="numeric">
        </div>
        <button type="submit" class="btn">Verify & Continue</button>
    </form>
</div>
{% endblock %}